<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type" /><meta content="IE=9" http-equiv="X-UA-Compatible" /><meta content="Doxygen 1.8.3.1" name="generator" /><title>id_porting_guide</title><link href="tabs.css" rel="stylesheet" type="text/css" /><script src="jquery.js" type="text/javascript"></script><script src="dynsections.js" type="text/javascript"></script><link href="navtree.css" rel="stylesheet" type="text/css" /><script src="resize.js" type="text/javascript"></script><script src="navtree.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(initResizable);

  $(window).load(resizeHeight);

</script><link href="search/search.css" rel="stylesheet" type="text/css" /><script src="search/search.js" type="text/javascript"></script><script type="text/javascript">

  $(document).ready(function() { searchBox.OnSelectItem(0); });

</script><link href="doxygen.css" rel="stylesheet" type="text/css" /></head><body><div id="top"><div id="titlearea"><table cellpadding="0" cellspacing="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="adobe_logo.png" /></td><td style="padding-left: 0.5em;"><div id="projectname">InDesign SDK &nbsp;<span id="projectnumber">12.1.0</span></div></td></tr></tbody></table></div><script type="text/javascript">

var searchBox = new SearchBox("searchBox", "search",false,'Search');

</script><div class="tabs" id="navrow1"><ul class="tablist"><li><a href="index.html"><span>InDesign&nbsp;SDK</span></a><li class="current"><a href="pages.html"><span>Documentation</span></a><li><a href="group__bosses__parent.html"><span>Bosses</span></a><li><a href="group__sdk.html"><span>Sample&nbsp;plug-ins</span></a><li><a href="classes.html"><span>Class&nbsp;Index</span></a><li><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"> <img alt="" id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()" src="search/mag_sel.png" /> <input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text" value="Search" /> </span><span class="right"> <a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose"><img alt="" border="0" id="MSearchCloseImg" src="search/close.png" /></a> </span></div></ul></div></div><div class="ui-resizable side-nav-resizable" id="side-nav"><div id="nav-tree"><div id="nav-tree-contents"><div class="sync" id="nav-sync"></div></div></div><div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;"></div></div><script type="text/javascript">

$(document).ready(function(){initNavTree('id_porting_guide.html','');});

</script><div id="doc-content"><div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Pages</a></div><div id="MSearchResultsWindow"><iframe frameborder="0" id="MSearchResults" name="MSearchResults" src="javascript:void(0)"></iframe></div><div class="header"><div class="headertitle"><div class="title">Porting Guide </div></div></div><div class="contents"><div class="textblock"><h1><a class="anchor" id="id_whats_new_in_the_indesign_cc_plugin_sdk"></a> What&#39;s New in the InDesign Plug-In SDK</h1><h2><a class="anchor" id="id_xcode_deployment_target"></a> Xcode base SDK and deployment target</h2><p>InDesign now uses MacOSX10.11.sdk as the Base SDK, OSX 10.10 as the OS X Deployment Target, GNU C++-11 as the C++ Language Dialect and libc++.dylib as the C++ Standard Library for Xcode projects. If your projects doesn&#39;t use the SDK shared Xcode setting files you will need to update these settings manually.<h2><a class="anchor" id="id_system_requirements"></a> System Requirements</h2><ul><li>For Windows development, Windows 7 SP1 is the minimum requirement.<li>For Mac development, Mac OS 10.10.5 or later is now required (Xcode 7.2.1 requires this).</ul><h2><a class="anchor" id="id_ide_requirements"></a> IDE Requirements</h2><h3><a class="anchor" id="vs_2015"></a> Visual Studio version is now Visual Studio 2015 SP3</h3><p>To update an existing Visual Studio project, the simplest method is to open the project in Visual Studio 2015 and use the prompt to update the project.<p>Alternatively you can modify the project file in a text editor by changing the ToolsVersion to 14.0 and PlatformToolset version to v140, as shown below.<div class="fragment"><div class="line">&lt;Project DefaultTargets=<span class="stringliteral">&quot;Build&quot;</span> ToolsVersion=<span class="stringliteral">&quot;14.0&quot;</span> xmlns=<span class="stringliteral">&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;</span>&gt;</div></div><div class="fragment"><div class="line">&lt;PropertyGroup Condition=<span class="stringliteral">&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Release|Win32&#39;&quot;</span> Label=<span class="stringliteral">&quot;Configuration&quot;</span>&gt;</div><div class="line"> &lt;ConfigurationType&gt;DynamicLibrary&lt;/ConfigurationType&gt;</div><div class="line"> &lt;PlatformToolset&gt;v140&lt;/PlatformToolset&gt;</div><div class="line"> &lt;/PropertyGroup&gt;</div><div class="line"> &lt;PropertyGroup Condition=<span class="stringliteral">&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Debug|Win32&#39;&quot;</span> Label=<span class="stringliteral">&quot;Configuration&quot;</span>&gt;</div><div class="line"> &lt;ConfigurationType&gt;DynamicLibrary&lt;/ConfigurationType&gt;</div><div class="line"> &lt;PlatformToolset&gt;v140&lt;/PlatformToolset&gt;</div><div class="line"> &lt;/PropertyGroup&gt;</div><div class="line"> &lt;PropertyGroup Condition=<span class="stringliteral">&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Release|x64&#39;&quot;</span> Label=<span class="stringliteral">&quot;Configuration&quot;</span>&gt;</div><div class="line"> &lt;ConfigurationType&gt;DynamicLibrary&lt;/ConfigurationType&gt;</div><div class="line"> &lt;PlatformToolset&gt;v140&lt;/PlatformToolset&gt;</div><div class="line"> &lt;/PropertyGroup&gt;</div><div class="line"> &lt;PropertyGroup Condition=<span class="stringliteral">&quot;&#39;$(Configuration)|$(Platform)&#39;==&#39;Debug|x64&#39;&quot;</span> Label=<span class="stringliteral">&quot;Configuration&quot;</span>&gt;</div><div class="line"> &lt;ConfigurationType&gt;DynamicLibrary&lt;/ConfigurationType&gt;</div><div class="line"> &lt;PlatformToolset&gt;v140&lt;/PlatformToolset&gt;</div><div class="line"> &lt;/PropertyGroup&gt;</div></div><p>Dolly has been updated to generate new projects with these settings.<p><b>IntelliSense</b><p>IntelliSense has never worked very well for InDesign code, and you may find that IntelliSense red squiggles appear under nearly every InDesign type or API, despite your project compiling successfully.<p>To disable the squiggles:<ol type="1"><li>Go to Tools &gt; Options.<li>In the options dialog, in the left pane, expand &quot;Text Editor&quot; and then expand &quot;C/C++&quot;.<li>Click on &quot;Advanced&quot; under &quot;C/C++&quot;.<li>In the right pane, scroll down until you see the &quot;IntelliSense&quot; section.<li>Select &quot;Disable Squiggles&quot; and change its value to True.<li>Click OK.</ol><h2><a class="anchor" id="id_new_apis"></a> API changes</h2><p>For a full list of API changes see the <a class="el" href="api_diffs.html">API Changes</a> page.<h1><a class="anchor" id="id_spectrum_ui_in_indesign"></a> Spectrum UI in InDesign</h1><p>The overall theme of Spectrum UI is to bring a consistency in Adobe products&acirc;&#128;&#153; UI and give these products a flat modern look. The major effort in this work is to remove bevels and embossing in the UI.<h2><a class="anchor" id="id_spectrum_plugin_changes"></a> Changes needed to get Spectrum UI in plug-ins</h2><p>Ideally, no changes should be needed. API signatures have not been modified in this UI modernization so existing plug-ins should automatically get UI appearance consistent to InDesign, if no custom drawing has been done for any widget i.e. following API has not been implemented:<div class="fragment"><div class="line"><a class="code" href="class_i_control_view.html#aec14fd20f70d44b1b43df9c47458ce24">IControlView::Draw</a>(<a class="code" href="class_i_view_port.html">IViewPort</a>* viewPort, SysRgn updateRgn = nil)</div></div><p>or following API has not been overridden:<div class="fragment"><div class="line"><a class="code" href="class_d_v_hosted_widget_view.html">DVHostedWidgetView</a>::(dvaui::drawbot::Drawbot* drawbotP)</div></div><p>If custom drawing has been done using any of the above APIs, some rework may be needed depending on the type of customization done. An example of customization that was done by InDesign team was bevels. Bevel is a combination of highlight and shadow. We chose to replace it with a uniform border wherever it appeared. Another major change that we made was changing few icons as they did not have a flat appearance. This is an optional change for plug-in developers. If the currently used icons look inconsistent with the rest of the UI, they may be modified to match colors and flatter appearance. In such a situation, the plug-in will need recompilation.<h2><a class="anchor" id="id_spectrum_api_behavior_changes"></a> Changes in API behavior</h2><ul><li>Owner drawn dropdowns: The width of the owner drawn dropdowns has been limited to a minimum value of kCC2016OwnerDrawDDItemMinWidth and maximum kCC2016OwnerDrawDDItemMaxWidth. These constants and other useful constants have been defined in <a class="el" href="_std_height_width_constants_8h_source.html">StdHeightWidthConstants.h</a> header file.</ul><ul><li>SetDrawListWidgetEndLine() API: The drawing of end line has been disabled from the scroller widget and SetDrawListWidgetEndLine() API has been marked deprecated. Drawing of end line via scroller widget in the list tree is not required as it is already being done while drawing the node separator for the last node. Users can set/reset the drawing of endline via the &acirc;&#128;&#156;kDrawEndLine&acirc;&#128;&#157; attribute in the &acirc;&#128;&#156;fr&acirc;&#128;&#157; as while drawing node separator &acirc;&#128;&#156;kDrawEndLine&acirc;&#128;&#157; attribute is queried and decision to draw the endline is made on the basis of its value.</ul><ul><li>Widgets added for Spectrum in Widgets.fh</ul><ol type="1"><li>GenericPanelWithCustomBorderWidget: This widget is defined to have a configurable sides which should be drawn around the child widget. This is an extension to GenericPanelWithBorderWidget with additional information for sides to be drawn and the corner radius, if it is going to have rounded corners.</ol><p>Parameters for GenericPanelWithCustomBorderWidget : Other than the parameters used by GenericPanelWithBorderWidget, the following parameters are needed:<ul><li>The sides to be drawn: The constants kAllBorder, kLeftBorder, kRightBorder, kTopBorder, kBottomBorder are defined in <a class="el" href="_std_height_width_constants_8h_source.html">StdHeightWidthConstants.h</a> . If you have specified a corner radius to be used which is greater than 0, the border will be drawn with the specified sides and the corners made by those edges will have the corner radius specified.<li>The corner radius: Use the corner radius if you want the corners to be rounded. If the corner radius specified is less than or equal to 0, the corners will not be rounded.</ul><ol type="1"><li>CSliderWidget: This can be used to create slider like widgets. The following parameters are read from the fr file:</ol><ul><li>CControlView: The <a class="el" href="class_i_control_view.html">IControlView</a> description of the slider.<li>CSliderControlData: The minimum, maximum, and initial value of the slider. These values should be specified as double e.g. 0.0, 100.0, 50.0 will set the minimum, maximum, and initial value of the slider.<li>CSliderTickCount: The number of ticks to show on the slider. Generally, the minimum and maximum slider values are divided into equal parts to get the numbers of ticks. If number of ticks specified &lt; 2, it will be ignored to have no ticks.</ul><p>Any change in the value of the slider value is broadcast on <a class="el" href="class_i_subject.html">ISubject</a> interface of this widget with ClassID as kRealChangeStateMessage. </div></div></div><div class="navpath" id="nav-path"><ul><li class="footer">Generated on Wed Mar 15 2017 20:32:17 for InDesign SDK by <a href="http://www.doxygen.org/index.html"> <img alt="doxygen" class="footer" src="doxygen.png" /></a> 1.8.3.1 </ul></div></body></html>
